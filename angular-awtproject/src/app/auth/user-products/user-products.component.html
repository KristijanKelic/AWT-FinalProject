<div class="user-product-flex">
  <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>
  <div><h1>My products</h1></div>
  <div *ngIf="products.length === 0 && !isLoading">
    <p>
      You don't have any products yet. Create one
      <a routerLink="/auth/create-product">here</a>
    </p>
    <div class="not-found">
      <img src="../../../assets/nothinghere.png" />
    </div>
  </div>
  <div *ngIf="products.length > 0 && !isLoading">
    <mat-accordion multi="true">
      <mat-expansion-panel *ngFor="let product of products">
        <mat-expansion-panel-header>
          <div>
            <mat-panel-title>
              {{ product.title | uppercase }}
            </mat-panel-title>
          </div>
          <div>
            <mat-panel-description>
              {{ product.category }}
            </mat-panel-description>
          </div>
        </mat-expansion-panel-header>

        <p>{{ product.content }}</p>
        <mat-action-row>
          <button mat-button color="accent" (click)="onDetails(product._id)">
            Details
          </button>
          <button mat-button color="warn" (click)="onDelete(product._id)">
            Delete
          </button>
          <button
            mat-button
            color="primary"
            [routerLink]="['/auth/edit-product', product._id]"
          >
            Edit
          </button>
        </mat-action-row>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
